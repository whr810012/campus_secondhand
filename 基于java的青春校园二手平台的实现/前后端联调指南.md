# 青春校园二手平台 - 前后端联调指南

## 项目概述
- **前端**: Vue.js + Element UI (端口: 8080)
- **后端**: Spring Boot + MyBatis Plus (端口: 8081)
- **数据库**: MySQL (端口: 3306)

## 当前状态
- ✅ 前端服务正常运行
- ✅ 前端代码错误已修复
- ✅ API接口配置已更新
- ❌ Java环境需要配置
- ❌ 数据库需要配置

## 配置步骤

### 第一步：配置Java环境
请参考 `Java环境配置指南.md` 文件，完成以下安装：
1. Java JDK 8+
2. Apache Maven

### 第二步：配置数据库
请参考 `数据库配置说明.md` 文件，完成以下配置：
1. 安装MySQL
2. 创建数据库 `campus_secondhand`
3. 配置用户权限

### 第三步：启动服务

#### 启动后端服务
```bash
# 在项目根目录执行
mvn spring-boot:run
```

#### 启动前端服务
```bash
# 在frontend目录执行
npm run dev
```

## 服务地址
- **前端访问地址**: http://localhost:8080
- **后端API地址**: http://localhost:8081/api
- **数据库连接**: localhost:3306/campus_secondhand

## 验证联调成功

### 1. 服务启动检查
- [ ] 前端服务启动成功，无编译错误
- [ ] 后端服务启动成功，无数据库连接错误
- [ ] 数据库服务正常运行

### 2. 功能测试
- [ ] 用户注册/登录功能
- [ ] 商品列表显示
- [ ] 商品详情查看
- [ ] 管理员后台访问

### 3. 网络请求检查
打开浏览器开发者工具，检查：
- [ ] API请求正常发送到 http://localhost:8081/api
- [ ] 后端正常返回JSON数据
- [ ] 无跨域错误

## 已修复的问题

### 前端代码修复
1. **Vue运行时错误**
   - 修复了UserLayout组件的null引用错误
   - 解决了OrderManagement.vue的重复键问题
   - 修复了ProductManagement.vue的重复键问题
   - 解决了ProductCard.vue的prop变异错误

2. **API接口错误**
   - 添加了缺失的 `createAdmin` 方法
   - 添加了 `onlineProduct` 和 `offlineProduct` 方法
   - 修复了MyProducts.vue中的API调用错误

3. **配置优化**
   - 后端端口改为8081，避免与前端冲突
   - 前端API baseURL更新为正确地址

## 常见问题排查

### 前端问题
- **编译错误**: 检查Node.js版本，重新安装依赖
- **页面空白**: 检查浏览器控制台错误信息
- **API请求失败**: 确认后端服务是否启动

### 后端问题
- **启动失败**: 检查Java环境和Maven配置
- **数据库连接失败**: 确认MySQL服务状态和配置
- **端口占用**: 检查8081端口是否被占用

### 联调问题
- **跨域错误**: 后端已配置CORS，如有问题检查配置
- **数据不同步**: 检查前后端数据格式是否一致
- **认证失败**: 检查JWT配置和token传递

## 开发建议

1. **开发流程**
   - 先启动后端服务，确保API正常
   - 再启动前端服务，进行界面调试
   - 使用浏览器开发者工具监控网络请求

2. **调试工具**
   - 前端：Vue DevTools
   - 后端：IDEA调试器或日志输出
   - 数据库：Navicat或MySQL Workbench
   - API测试：Postman或Apifox

3. **代码规范**
   - 遵循ESLint规则
   - 统一代码格式
   - 添加必要的注释

---

完成以上配置后，前后端服务将能够正常联调，实现完整的业务功能。