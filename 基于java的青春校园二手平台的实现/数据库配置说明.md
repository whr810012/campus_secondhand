# 数据库配置说明

## 数据库要求
- **数据库类型**: MySQL 5.7 或更高版本
- **数据库名**: `campus_secondhand`
- **用户名**: `root`
- **密码**: `123456`
- **端口**: `3306`

## 安装MySQL

### 方法一：MySQL官方安装包
1. 访问 https://dev.mysql.com/downloads/mysql/
2. 下载适合Windows的MySQL安装包
3. 运行安装程序，设置root密码为 `123456`

### 方法二：使用XAMPP（推荐新手）
1. 下载XAMPP: https://www.apachefriends.org/
2. 安装XAMPP，启动MySQL服务
3. 通过phpMyAdmin创建数据库

### 方法三：使用Docker（推荐开发者）
```bash
docker run --name mysql-campus \
  -e MYSQL_ROOT_PASSWORD=123456 \
  -e MYSQL_DATABASE=campus_secondhand \
  -p 3306:3306 \
  -d mysql:8.0
```

## 创建数据库

### 使用命令行
```sql
-- 连接MySQL
mysql -u root -p

-- 创建数据库
CREATE DATABASE campus_secondhand CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 使用数据库
USE campus_secondhand;
```

### 使用图形化工具
推荐使用以下工具之一：
- **Navicat**: https://www.navicat.com/
- **MySQL Workbench**: https://dev.mysql.com/downloads/workbench/
- **phpMyAdmin**: 通过XAMPP访问

## 数据表结构

项目使用MyBatis Plus，会自动创建数据表。主要包含以下表：

- `user` - 用户表
- `product` - 商品表
- `category` - 分类表
- `order` - 订单表
- `message` - 消息表

## 验证数据库连接

启动后端服务后，查看控制台日志：
- ✅ 成功：显示数据库连接成功信息
- ❌ 失败：显示连接错误，检查数据库服务是否启动

## 常见问题

1. **连接被拒绝**
   - 检查MySQL服务是否启动
   - 确认端口3306未被占用

2. **认证失败**
   - 确认用户名密码正确
   - MySQL 8.0可能需要修改认证方式：
   ```sql
   ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '123456';
   FLUSH PRIVILEGES;
   ```

3. **数据库不存在**
   - 手动创建 `campus_secondhand` 数据库

4. **时区问题**
   - 配置文件已设置 `serverTimezone=GMT%2B8`

---

配置完成后，后端服务将能够正常连接数据库并自动创建所需的数据表。